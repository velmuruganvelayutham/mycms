<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>3.&nbsp;Serving multiple sites from a single installation</title><link rel="stylesheet" href="html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.70.1"><link rel="start" href="index.html" title="MeshCMS 3.6 User Guide"><link rel="up" href="ch03.html" title="Chapter&nbsp;3.&nbsp;Basic Concepts"><link rel="prev" href="ch03s02.html" title="2.&nbsp;External Documents and Tools"><link rel="next" href="ch04.html" title="Chapter&nbsp;4.&nbsp;Common Tasks"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">3.&nbsp;Serving multiple sites from a single installation</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch03s02.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;3.&nbsp;Basic Concepts</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="ch04.html">Next</a></td></tr></table><hr></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="multiple_sites"></a>3.&nbsp;Serving multiple sites from a single installation</h2></div></div></div><p>Tomcat and other servlet containers allow to create multiple hosts, and to put multiple contexts within them. Web developers usually need to host more than a single website on the same server, so they end up creating a host for each website and specifying which domains must be served by that host. This is a good setup strategy since it allows to separate sites and to tune their configuration. Nevertheless, this method leads to many installations of MeshCMS that must be maintained separately, which is quite annoying, for example when upgrading.</p><p>MeshCMS 3 gives the choice between this approach and a different one: you can install it once and serve all sites from that single context. You will probably configure the host to serve all domains and let MeshCMS map them to different sites. The advantages of this approach are:</p><div class="itemizedlist"><ul type="disc"><li><p>you have to deal with a single installation of the software;</p></li><li><p>you will save some server resources;</p></li><li><p>you can see the files of all sites from the file manager if you have the needed permissions;</p></li><li><p>you can configure the sites and their mappings using the web interface.</p></li></ul></div><p>The drawbacks are:</p><div class="itemizedlist"><ul type="disc"><li><p>it is more difficult to manage security separately for each site;</p></li><li><p>if you use JSP pages in virtual sites, you must keep into account the fact that MeshCMS will map URLs to files differently.</p></li></ul></div><p>To serve multiple sites, you need to install MeshCMS as usual. Then you can use the <a href="ch05.html" title="Chapter&nbsp;5.&nbsp;Control Panel">Control Panel</a> to create new sites. If the DNS has been configured properly, you can access new sites immediately. Please do so, log into it with your admin user of the main website and check the <a href="ch05s02.html" title="2.&nbsp;Configure">site configuration</a> to make sure that all options are fine. You may also want to create some users, a welcome page and so on.</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="main_and_virtual_sites"></a>3.1.&nbsp;Main site and virtual sites</h3></div></div></div><p>When you install MeshCMS, you have a single site. This is the good old default scenario. You can add a virtually unlimited number of virtual sites on top of it. While virtual sites behave like the main one apparently, there are some differences between. The main difference is the fact that a different file is served when a page of a virtual site is requested. Normally, if you configure a Tomcat host to serve <code class="uri">www.site1.com</code> and <code class="uri">www.site2.com</code>, the same file will be served for <code class="uri">http://www.site1.com/index.html</code> and <code class="uri">http://www.site2.com/index.html</code>. That file is simply <code class="filename">/index.html</code>, located in the root context. But if you setup <code class="uri">www.site2.com</code> as a virtual site on top of <code class="uri">www.site1.com</code>, a request for <code class="uri">http://www.site2.com/index.html</code> will lead to <code class="filename">/meshcms/sites/site2.com/index.html</code>.</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch03s02.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch03.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="ch04.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">2.&nbsp;External Documents and Tools&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Chapter&nbsp;4.&nbsp;Common Tasks</td></tr></table></div></body></html>