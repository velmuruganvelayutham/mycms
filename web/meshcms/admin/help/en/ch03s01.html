<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>1.&nbsp;The Site Map</title><link rel="stylesheet" href="html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.70.1"><link rel="start" href="index.html" title="MeshCMS 3.6 User Guide"><link rel="up" href="ch03.html" title="Chapter&nbsp;3.&nbsp;Basic Concepts"><link rel="prev" href="ch03.html" title="Chapter&nbsp;3.&nbsp;Basic Concepts"><link rel="next" href="ch03s02.html" title="2.&nbsp;External Documents and Tools"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">1.&nbsp;The Site Map</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch03.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;3.&nbsp;Basic Concepts</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="ch03s02.html">Next</a></td></tr></table><hr></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="site_map"></a>1.&nbsp;The Site Map</h2></div></div></div><p>The site map is one of the most important MeshCMS components. Since MeshCMS is file based, there is no site map defined in a database, so MeshCMS must figure it out by parsing the file system. The site map is not a simple list of pages: it is a hierarchical structure which follows some strict rules.</p><p>The key of the site map is the concept of <em class="firstterm">welcome file</em>. This concept is well known by webmasters. When you access <code class="uri">http://www.site.com/somedirectory/somepage.html</code>, the file <code class="filename">somepage.html</code> located in the <code class="filename">/somedir</code> directory is sent to your browser. But when you access <code class="uri">http://www.site.com/somedirectory/</code>, you are requesting a directory, not a file. In such case, a file with a specific name is searched into that directory and, if it is available, that file is sent to your browser. Usually this file is called <code class="filename">index.html</code>, but more than one can be specified, and the first match will be used. The default for MeshCMS is to search for <code class="filename">index.html</code>, then <code class="filename">index.htm</code> and finally <code class="filename">index.jsp</code> (you can change this by editing the <code class="filename">web.xml</code> configuration file according to the Servlet specification). The result of this convention is that accessing <code class="uri">http://www.site.com/somedirectory/</code> and accessing <code class="uri">http://www.site.com/somedirectory/index.html</code> will lead to the same page.</p><p>MeshCMS uses the welcome files heavily. When it encounters a directory while parsing the website tree, it checks whether that directory contains a welcome file or not. If there is no welcome file, <span class="bold"><strong>that directory is ignored</strong></span>, along with all subdirectories. This means that all pages included in that directory will <span class="emphasis"><em>not</em></span> be included in the site map, and that users will not find those pages in the navigation menu.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>Pages included in ignored directories are still available by using a direct link or by typing the full address in the browser location bar.</p></div><p>Why is the site map made this way? There are two main reasons. The first one is that if a directory without welcome file were included in the navigation menu, clicking on it would show a listing of the directory contents, or an error page if that listing is not allowed. So this is a way to force the use of a welcome page. The second reason is that there are many cases where a page must not be available in the navigation menu. Suppose that you want to use the <a href="ch06.html" title="Chapter&nbsp;6.&nbsp;Modules">include module template</a> to add some news in your web pages. You will create a directory that will contain an HTML file for each news, and then you will use that directory as module argument. If none of the HTML files has the name of a welcome file, those news will not be inserted in the navigation menu directly, but they will still available for the module as expected. This is just an example of a situation in which a welcome file should not be used.</p><p>When a directory contains a welcome file, it is inserted in the site map, and all other items available in that directory are included as children pages. Items can be files (HTML or server-side pages) or directories (which must have their own welcome file as explained above).</p><p>This method has an important drawback: <span class="bold"><strong>a page that is not a welcome file cannot have children pages</strong></span>. For example, there is no way to add a child page to <code class="uri">http://www.site.com/somedirectory/somepage.html</code>. This is usually not a problem, since you can always create a page at the same level (for example <code class="uri">http://www.site.com/somedirectory/otherpage.html</code>), but if you think you will want to add children pages to a page, use a new directory for it. Keep in mind that <code class="uri">http://www.site.com/somedirectory/somepage.html</code> and <code class="uri">http://www.site.com/somedirectory/somepage/index.html</code> are indexed <span class="bold"><strong>exactly in the same way</strong></span>. If you create new pages using the <a href="ch05s01.html" title="1.&nbsp;Page Manager">Page Manager</a> tool, leave the "Create enclosing directory" box checked, so you will be able to add children pages to your new page in future.</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch03.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch03.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="ch03s02.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter&nbsp;3.&nbsp;Basic Concepts&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;2.&nbsp;External Documents and Tools</td></tr></table></div></body></html>